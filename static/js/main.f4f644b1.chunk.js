(this.webpackJsonppizza_shop=this.webpackJsonppizza_shop||[]).push([[0],{53:function(e,t,r){},60:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){},69:function(e,t,r){},70:function(e,t,r){},71:function(e,t,r){},72:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(0),a=r(14),i=r.n(a),s=(r(53),r(25)),l=r(26),o=r(29),u=r(28),d=r(20),j=r(13),b=r.p+"static/media/PizzaBanner.865e4e1c.png",m=r(23),O=r(41),h=r(44),p=r(9),x=(r(60),r(15)),f=r(75),g=r(43),v=(r(33),function(e){return{type:"ADDTOCART",value:e}}),N=function(e){return{type:"CHANGECURRENCY",value:e}},S=Object(p.b)(null,(function(e){return{changeCurrency:function(t){return e(N(t))}}}))((function(e){var t=e.changeCurrency,r=Object(n.useState)(""),a=Object(j.a)(r,2),i=(a[0],a[1]);return Object(c.jsx)("div",{children:Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Row,{className:"align-items-center",children:Object(c.jsxs)(g.a,{xs:"auto",className:"my-1",children:[Object(c.jsx)(f.a.Label,{className:"lg",htmlFor:"inlineFormCustomSelect",srOnly:!0,children:"Preference"}),Object(c.jsxs)(f.a.Control,{as:"select",className:"lg",id:"inlineFormCustomSelect",custom:!0,defaultValue:"1",onChange:function(e){var r=e.target.value;i(r),t(r)},children:[Object(c.jsx)("option",{value:"0",children:"Choose the currency"}),Object(c.jsx)("option",{value:"1",children:"USD"}),Object(c.jsx)("option",{value:"2",children:"EUR"})]})]})})})})})),y=Object(p.b)((function(e){return{cart:e.cart}}))((function(e){var t=Object(x.b)(),r=t.loginWithRedirect,a=t.user,i=t.logout,s=Object(n.useState)(0),l=Object(j.a)(s,2),o=l[0],u=l[1];return Object(n.useEffect)((function(){u(JSON.parse(localStorage.getItem("cartStorage")).length)}),[Object(d.a)(e.cart)]),Object(c.jsx)("div",{children:Object(c.jsxs)("header",{children:[Object(c.jsxs)("div",{className:"banner",children:[Object(c.jsx)(m.b,{to:"/",children:Object(c.jsx)("img",{src:b,alt:"pizza-banner"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:a?Object(c.jsx)("li",{onClick:function(){return i()},children:Object(c.jsxs)("a",{href:"#",className:"round red",children:["LogOut",Object(c.jsx)("span",{className:"round",children:"But only if you really, really want to. "})]})}):Object(c.jsx)("li",{onClick:function(){return r()},children:Object(c.jsxs)("a",{href:"#",className:"round green",children:["LogIn",Object(c.jsx)("span",{className:"round",children:"Create an account or Log in if you have an account."})]})})})}),Object(c.jsx)(m.b,{to:"/cart",className:"icon-link",children:Object(c.jsxs)("div",{className:"cart-wrapper",children:[Object(c.jsx)(O.a,{icon:h.a,id:"icon"}),Object(c.jsx)("span",{style:{backgroundColor:o>0?"#c71105":"#bbb"},children:o})]})})]}),Object(c.jsx)(S,{})]})})})),z=r(7),C=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)("label",{htmlFor:"lname",children:["Name:",Object(c.jsx)("input",{type:"text",id:"lname",name:"name",required:!0})]}),Object(c.jsxs)("label",{htmlFor:"fname",children:["Email:",Object(c.jsx)("input",{type:"email",id:"fname",name:"email",required:!0})]}),Object(c.jsxs)("label",{htmlFor:"lname",children:["Password:",Object(c.jsx)("input",{type:"password",id:"lname",name:"password",required:!0})]}),Object(c.jsx)("input",{type:"submit",value:"Sign Up",className:"btn"})]})})},E=(r(67),r(18)),I=(r(68),Object(p.b)(null,(function(e){return{increaseNumberOfPizzas:function(t){return e(function(e){return{type:"INCREASEPIZZAS",value:e}}(t))},decreaseNumberOfPizzas:function(t){return e(function(e){return{type:"DECREASEPIZZAS",value:e}}(t))},addToCartAction:function(t){return e(v(t))},clearField:function(t){return e(function(e){return{type:"CLEAR",value:e}}(t))}}}))((function(e){var t="";t=e.title.number<=0?"disabled":"";return Object(c.jsx)("div",{className:"buttons-wrapper",children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addToCartAction(e.title),e.clearField(e.title)},children:[Object(c.jsxs)("div",{className:"dec-inc",children:[Object(c.jsx)(E.a,{variant:"dark",onClick:function(t){t.preventDefault(),e.increaseNumberOfPizzas(e.title)},size:"sm",children:"+"}),Object(c.jsx)("span",{children:e.title.number}),Object(c.jsx)(E.a,{variant:"dark",onClick:function(r){console.log(t),r.preventDefault(),e.decreaseNumberOfPizzas(e.title)},disabled:t,size:"sm",children:"-"})]}),Object(c.jsx)(E.a,{variant:"dark",type:"submit",className:"add-to",disabled:t,size:"sm",children:"Add to cart..."})]})})}))),A=function(e){var t=e.pizza;return Object(c.jsxs)("div",{className:"piza-card",children:[Object(c.jsx)("h1",{children:t.title}),Object(c.jsxs)("div",{className:"info-wrapper",children:[Object(c.jsx)("img",{src:t.picture,alt:t.title}),Object(c.jsxs)("h4",{children:[t.price,t.currency]}),Object(c.jsx)(I,{title:t})]})]})},k=(r(69),function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.pizzas;return e?((null===localStorage.getItem("cartStorage")||this.props.cart.length>JSON.parse(localStorage.getItem("cartStorage")).length)&&localStorage.setItem("cartStorage",JSON.stringify(this.props.cart)),Object(c.jsx)("div",{className:"pizza-list",children:e.map((function(e){return Object(c.jsx)(A,{pizza:e},e.id)}))})):Object(c.jsx)("div",{children:"Loading"})}}]),r}(n.Component)),R=Object(p.b)((function(e){return{pizzas:e.pizzas,cart:e.cart}}))(k),P=(r(70),Object(p.b)((function(e){return{cartTracker:e.cart}}),(function(e){return{changeNumber:function(t){return e(function(e){return{type:"DECREASE",value:e}}(t))},increaseNumber:function(t){return e(function(e){return{type:"INCREASE",value:e}}(t))},remove:function(t){return e(function(e){return{type:"REMOVE",value:e}}(t))}}}))((function(e){var t=e.cart,r=e.changeNumber,n=e.increaseNumber,a=e.remove,i=e.cartTracker,s="";s=t.number<=0?"disabled":"";return Object(c.jsxs)("div",{className:"product",children:[Object(c.jsx)("div",{className:"product-image",children:Object(c.jsx)("img",{src:t.picture})}),Object(c.jsxs)("div",{className:"product-details",children:[Object(c.jsx)("div",{className:"product-title",children:t.title}),Object(c.jsx)("p",{className:"product-description"})]}),Object(c.jsxs)("div",{className:"product-price",children:[t.price,t.currency]}),Object(c.jsxs)("div",{className:"product-quantity",children:[Object(c.jsx)(E.a,{variant:"dark",onClick:function(e){e.preventDefault(),n(t)},size:"sm",children:"+"}),Object(c.jsx)("span",{children:t.number}),Object(c.jsx)(E.a,{variant:"dark",onClick:function(e){e.preventDefault(),r(t)},disabled:s,size:"sm",children:"-"})]}),Object(c.jsx)("div",{className:"product-removal",children:Object(c.jsx)("button",{className:"remove-product",onClick:function(e){e.preventDefault(),1===i.length&&localStorage.removeItem("cartStorage"),a(t)},children:"Remove"})}),Object(c.jsxs)("div",{className:"product-line-price",children:[t.number*t.price,t.currency]})]})}))),T=(r(71),r(45)),w=function(){var e=Object(x.b)().user;if(e){var t=JSON.parse(localStorage.getItem("orders")).filter((function(t){return t.user===e.name}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Order History :"}),Object(c.jsxs)(T.a,{striped:!0,bordered:!0,hover:!0,className:"mt-3",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{children:"Order"}),Object(c.jsx)("th",{children:"Adress"}),Object(c.jsx)("th",{children:"Total"})]})}),Object(c.jsx)("tbody",{children:t.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t}),Object(c.jsx)("td",{children:e.user}),Object(c.jsx)("td",{children:e.orders.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("span",{children:[e.title,":"]}),Object(c.jsx)("span",{children:e.number})]},t)}))},t),Object(c.jsx)("td",{children:e.adress}),Object(c.jsxs)("td",{children:[e.total,e.orders[0].currency]})]},t)}))})]})]})}return Object(c.jsx)("h1",{children:"Sign In to see the history of orders"})},D=r(74);var J=Object(p.b)((function(e){return{cart:e.cart,price:e.price}}),(function(e){return{clearthestate:function(t){return e({type:"CLEARSTATE"})}}}))((function(e){var t=Object(x.b)().user,r=Object(n.useState)({name:"",userName:"",lastName:""}),a=Object(j.a)(r,2),i=a[0],s=a[1],l=Object(n.useState)(""),o=Object(j.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)(""),m=Object(j.a)(b,2),O=m[0],h=m[1],p=Object(n.useState)(""),g=Object(j.a)(p,2),v=g[0],N=g[1],S=e.clearthestate;null===localStorage.getItem("orders")&&localStorage.setItem("orders",JSON.stringify([]));var y=function(e){var t=!0;return""===e&&(t=!1,s({userName:"Name cannot be empty"})),t},z=function(e){var t=!0;return""===e&&(t=!1,s({lastName:"Lastname cannot be empty"})),t},C=function(e){var t=!0;return""===e&&(t=!1,s({name:"Cannot be empty"})),e.match(/\w+(\s\w+){2,}/)||""===e||(t=!1,s({name:"Please Enter Valid Adress..."})),t};return Object(c.jsxs)(D.a,{show:e.show,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(D.a.Header,{children:Object(c.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:Object(c.jsx)("h4",{style:{display:i.name?"block":"none"},className:"danger",children:i.name})})}),Object(c.jsx)(D.a.Body,{children:Object(c.jsxs)(f.a,{onSubmit:function(r){if(r.preventDefault(),t){if(C(u)&&y(O)&&z(v)){var c={user:t.name,orders:"",adress:"",total:""};c.orders=JSON.parse(localStorage.getItem("cartStorage")),c.adress=u,c.total=e.price;var n=JSON.parse(localStorage.getItem("orders"));n.push(c),localStorage.setItem("orders",JSON.stringify(n)),S(),localStorage.removeItem("cartStorage"),d(""),h(""),N(""),s({name:"Order Successfully Accepted!"})}}else C(u)&&y(O)&&z(v)&&(s({name:"Order Successfully Accepted!"}),d(""),h(""),N(""),S(),localStorage.removeItem("cartStorage"))},children:[Object(c.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(f.a.Label,{children:"Enter the adress.."}),Object(c.jsx)(f.a.Label,{children:"e.g. 61 Park Street"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Please Enter The Adress..",name:"adress",onChange:function(e){d(e.target.value)},value:u}),Object(c.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:Object(c.jsx)("h4",{style:{display:i.userName?"block":"none"},className:"danger",children:i.userName})}),Object(c.jsx)(f.a.Label,{children:"Enter your Name"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Please Enter The Name..",name:"adress",onChange:function(e){h(e.target.value)},value:O}),Object(c.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:Object(c.jsx)("h4",{style:{display:i.lastName?"block":"none"},className:"danger",children:i.lastName})}),Object(c.jsx)(f.a.Label,{children:"Enter your Lastname"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Please Enter The Lastname..",name:"adress",onChange:function(e){N(e.target.value)},value:v})]}),Object(c.jsx)(E.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(c.jsx)(D.a.Footer,{children:Object(c.jsx)(E.a,{onClick:e.onHide,children:"Close"})})]})})),L=Object(p.b)((function(e){return{cart:e.cart}}),(function(e){return{addToCartAction:function(t){return e(v(t))},changeCurrency:function(t){return e(N(t))},priceCarrier:function(t){return e(function(e){return{type:"DELIVER",value:e}}(t))}}}))((function(e){var t=e.cart,r=e.addToCartAction,a=(e.changeCurrency,e.priceCarrier),i=Object(n.useState)(!1),s=Object(j.a)(i,2),l=s[0],o=s[1],u="$";u=t.length>0?t[0].currency:"$";var d="",b=t.reduce((function(e,t){return e+t.number}),0);d=t.length<=0||0===b?"disabled":"";var m=t.reduce((function(e,t){return e+t.price*t.number}),0),O=.05*m,h=m+15+O;return null===localStorage.getItem("cartStorage")||t.length>JSON.parse(localStorage.getItem("cartStorage")).length?localStorage.setItem("cartStorage",JSON.stringify(t)):JSON.parse(localStorage.getItem("cartStorage")).length-t.length>1?JSON.parse(localStorage.getItem("cartStorage")).map((function(e){r(e)})):JSON.parse(localStorage.getItem("cartStorage")).length-t.length===1&&0===t.length?r(JSON.parse(localStorage.getItem("cartStorage"))[0]):(JSON.parse(localStorage.getItem("cartStorage")).length-t.length==1&&0!==t.length||t.map((function(e){return JSON.parse(localStorage.getItem("cartStorage")).some((function(t){return e.number!==t.number}))})))&&localStorage.setItem("cartStorage",JSON.stringify(t)),Object(c.jsxs)("div",{className:"shopping-cart",children:[Object(c.jsxs)("div",{className:"column-labels",children:[Object(c.jsx)("label",{className:"product-image",children:"Image"}),Object(c.jsx)("label",{className:"product-details",children:"Product"}),Object(c.jsx)("label",{className:"product-price",children:"Price"}),Object(c.jsx)("label",{className:"product-quantity",children:"Quantity"}),Object(c.jsx)("label",{className:"product-removal",children:"Remove"}),Object(c.jsx)("label",{className:"product-line-price",children:"Total"})]}),t.map((function(e){return Object(c.jsx)(P,{cart:e},e.id)})),Object(c.jsxs)("div",{className:"totals",children:[Object(c.jsxs)("div",{className:"totals-item",children:[Object(c.jsx)("label",{children:"Subtotal"}),Object(c.jsxs)("div",{className:"totals-value",id:"cart-subtotal",children:[m,u]})]}),Object(c.jsxs)("div",{className:"totals-item",children:[Object(c.jsx)("label",{children:"Tax (5%)"}),Object(c.jsxs)("div",{className:"totals-value",id:"cart-tax",children:[O,u]})]}),Object(c.jsxs)("div",{className:"totals-item",children:[Object(c.jsx)("label",{children:"Shipping"}),Object(c.jsxs)("div",{className:"totals-value",id:"cart-shipping",children:[15,u]})]}),Object(c.jsxs)("div",{className:"totals-item totals-item-total",children:[Object(c.jsx)("label",{children:"Grand Total"}),Object(c.jsxs)("div",{className:"totals-value",id:"cart-total",children:[h,u]})]})]}),Object(c.jsx)("button",{className:"checkout",onClick:function(){o(!0),a(h)},disabled:d,children:"Checkout"}),Object(c.jsx)(w,{}),Object(c.jsx)(J,{show:l,onHide:function(){return o(!1)}})]})})),$=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)(y,{path:"/"}),Object(c.jsxs)(z.c,{children:[Object(c.jsx)(z.a,{exact:!0,path:"/sign-up",component:C}),Object(c.jsx)(z.a,{exact:!0,path:"/cart",component:L}),Object(c.jsx)(z.a,{exact:!0,path:"/",component:R})]})]})})}}]),r}(n.Component),Z=r(19),F={pizzas:[{title:"Neapolitan Pizza",picture:r.p+"static/media/neapolitan-pizza.61e03719.jpg",price:5,id:1,number:0,currency:"$"},{title:"New York-Style Pizza",picture:r.p+"static/media/new-york-pizza.79c17662.jpg",price:5,id:2,number:0,currency:"$"},{title:"Chicago/Deep-Dish Pizza",picture:r.p+"static/media/deep-dish-pizza.77245916.jpg",price:5,id:3,number:0,currency:"$"},{title:"Sicilian Pizza",picture:r.p+"static/media/sicilian-pizza.b8500754.jpg",price:5,id:4,number:0,currency:"$"},{title:"Californian Pizza",picture:r.p+"static/media/californian-pizza.59f0a064.jpg",price:5,id:5,number:0,currency:"$"},{title:"Detroit Pizza",picture:r.p+"static/media/detroit-style-pizza.a19bcc96.jpg",price:5,id:6,number:0,currency:"$"},{title:"St. Louis Pizza",picture:r.p+"static/media/st-louis-pizza.663cd531.jpg",price:5,id:7,number:0,currency:"$"},{title:"Greek Pizza",picture:r.p+"static/media/greek-pizza.d0667928.jpg",price:5,id:8,number:0,currency:"$"}]},G=r(10),H=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.pizzas,r=arguments.length>1?arguments[1]:void 0;switch(r.value&&(e=t.findIndex((function(e){return e.title===r.value.title}))),r.type){case"GETPIZZAS":return Object(d.a)(t);case"CHANGECURRENCY":return"2"===r.value?Object(G.a)(t,(function(e){e.map((function(e){return e.currency="\u20a0",e.price*=.8}))})):Object(G.a)(t,(function(e){e.map((function(e){return e.currency="$",e.price*=1.25}))}));case"INCREASEPIZZAS":return Object(G.a)(t,(function(t){t[e].number+=1}));case"DECREASEPIZZAS":return Object(G.a)(t,(function(t){t[e].number-=1}));case"CLEAR":return Object(G.a)(t,(function(t){t[e].number=0}));default:return t}},U=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;switch(r.value&&(e=t.findIndex((function(e){return e.title===r.value.title}))),r.type){case"ADDTOCART":return t.some((function(e,t){return e.title===r.value.title}))?Object(G.a)(t,(function(t){t[e].number+=r.value.number})):[].concat(Object(d.a)(t),[r.value]);case"DECREASE":return Object(G.a)(t,(function(t){t[e].number-=1}));case"INCREASE":return Object(G.a)(t,(function(t){t[e].number+=1}));case"REMOVE":return Object(G.a)(t,(function(t){t.splice(e,1)}));case"CLEARSTATE":return Object(G.a)(t,(function(e){return[]}));case"CHANGECURRENCY":return"2"===r.value?Object(G.a)(t,(function(e){e.map((function(e){return e.currency="\u20a0",e.price*=.8}))})):Object(G.a)(t,(function(e){e.map((function(e){return e.currency="$",e.price*=1.25}))}));default:return t}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELIVER":return t.value;default:return e}},Y=Object(Z.b)({pizzas:H,cart:U,price:V}),q=Object(Z.c)(Y);i.a.render(Object(c.jsx)(x.a,{domain:"dev-7bw73z3v.eu.auth0.com",clientId:"ujhaKNvktXYyhxWMYu25ttJJkaS5XlSu",redirectUri:window.location.origin,children:Object(c.jsx)(p.a,{store:q,children:Object(c.jsx)($,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.f4f644b1.chunk.js.map